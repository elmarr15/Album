<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Picture Album</title>
	<link rel="stylesheet" href="album design.css">
</head>
<body oncontextmenu="return false;">

	<div class="header">
		<div class="header-inner">
		
			<div class="header-title">
				<h3>PICTURE<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ALBUM</h3>
			</div>

			<div class="header-name">
				<div class="name"><h2>RAMIL M. DELA CRUZ</h2></div>
				<div class="header-accent"></div>
			</div>

		</div>
	</div>
	
	<nav class="nav">
		<!-- <a href="./Images/1.jpg" download="dada">Try download</a> -->
		<a href="Album.html" class="nav-link active">Pictures</a>
		<a href="Videos.html" class="nav-link">Videos</a>
	</nav>

	<div class="Acontainer">
		<div class="Agrid" id="PhotoGrid">
			<!-- Photo items will be generated by JavaScript -->
		</div>
	</div>
</body>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		const photoGrid = document.getElementById('PhotoGrid');
		const numberOfPhotos = 260;

		for (let i = 1; i <= numberOfPhotos; i++) {
			const photoItem = document.createElement('div');
			photoItem.className = 'photos';

			const frame = document.createElement('div');
			frame.className = 'frame';

			const img = document.createElement('img');
			img.src = `Images/${i}.jpg`;
			img.alt = `Photo ${i}`;

			const button = document.createElement('button');
			button.className = 'dl';
			button.textContent = 'DOWNLOAD';
			button.onclick = async function() {
				try {
					const img = this.previousElementSibling.querySelector("img");
					const imgSrc = img.getAttribute("src");
					
					const response = await fetch(imgSrc);
					const blob = await response.blob();
					
					const url = window.URL.createObjectURL(blob);
					const a = document.createElement('a');
					a.href = url;
					a.download = imgSrc.split("/").pop();
					document.body.appendChild(a);
					a.click();
					window.URL.revokeObjectURL(url);
					document.body.removeChild(a);
				} catch (error) {
					console.error('Download failed:', error);
				}
			};

			frame.appendChild(img);
			photoItem.appendChild(frame);
			photoItem.appendChild(button);
			photoGrid.appendChild(photoItem);
		}
	});
</script>


</html>
